!function(){var e=function(e,t){return e<t?Math.min(t-e,e+2*Math.PI-t):Math.min(e-t,t+2*Math.PI-e)};function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(n,r,i){var o,a,l;t(this,e),l=0,(a="lastUpdate")in(o=this)?Object.defineProperty(o,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[a]=l,this.r=n,this.t=r,this.speed=i}var r,i,o;return r=e,(i=[{key:"update",value:function(e){this.t=(this.t+this.speed*(e-this.lastUpdate)/1e3+2*Math.PI)%(2*Math.PI),this.lastUpdate=e}},{key:"getCurrentFrame",value:function(e){var t=this.frameIndex;return e!==this._renderUnit&&(this._renderUnit=e,this._frames=[]),this._frames[t]||(this._frames[t]=this.renderFrame(t,e)),this._frames[t]}},{key:"frameIndex",get:function(){return 0}}])&&n(r.prototype,i),o&&n(r,o),e}(),i="#009900",o="#2222cc",a="#666666",l="#009900",s="#77dd00";function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(o,e);var t,n,r,i=h(o);function o(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,e,t,n))._facing=2*Math.random()*Math.PI,r}return t=o,(n=[{key:"update",value:function(e){f(d(o.prototype),"update",this).call(this,e)}},{key:"renderFrame",value:function(e,t){var n=document.createElement("canvas");n.width=t,n.height=t;var r=n.getContext("2d");return r.fillStyle=l,r.beginPath(),r.moveTo(t/2,t/2),r.bezierCurveTo(t,t/2,7*t/8,15*t/16,t/2,15*t/16),r.arc(t/2,t/2,21*t/48,Math.PI/2,3*Math.PI/2),r.bezierCurveTo(7*t/8,t/16,t,t/2,t/2,t/2),r.fill(),n}},{key:"facing",get:function(){return this._facing+this.t}}])&&u(t.prototype,n),r&&u(t,r),o}(r);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=P(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var i=P(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,e);var t,n,r,i=w(o);function o(e,t,n){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),i.call(this,e,t,n)}return t=o,(n=[{key:"update",value:function(e){b(P(o.prototype),"update",this).call(this,e)}},{key:"renderFrame",value:function(e,t){var n=document.createElement("canvas");n.width=t,n.height=t;var r=n.getContext("2d");return r.fillStyle="#ccccff",r.fillRect(0,t/4,t,t/2),r.fillStyle="#333333",r.beginPath(),r.moveTo(t/4,t/4),r.lineTo(t/4,3*t/4),r.lineTo(3*t/8,11*t/16),r.lineTo(3*t/8,5*t/16),r.lineTo(t/4,t/4),r.fill(),r.beginPath(),r.moveTo(3*t/4,t/4),r.lineTo(3*t/4,3*t/4),r.lineTo(5*t/8,11*t/16),r.lineTo(5*t/8,5*t/16),r.lineTo(3*t/4,t/4),r.fill(),r.fillStyle="#ccff99",r.beginPath(),r.moveTo(31*t/32,t/4),r.lineTo(31*t/32,11*t/32),r.lineTo(t,3*t/8),r.lineTo(t,t/4),r.lineTo(31*t/32,t/4),r.fill(),r.beginPath(),r.moveTo(31*t/32,3*t/4),r.lineTo(31*t/32,21*t/32),r.lineTo(t,5*t/8),r.lineTo(t,3*t/4),r.lineTo(31*t/32,3*t/4),r.fill(),r.fillStyle="#ff6633",r.beginPath(),r.moveTo(t/32,t/4),r.lineTo(t/32,11*t/32),r.lineTo(0,3*t/8),r.lineTo(0,t/4),r.lineTo(t/32,t/4),r.fill(),r.beginPath(),r.moveTo(t/32,3*t/4),r.lineTo(t/32,21*t/32),r.lineTo(0,5*t/8),r.lineTo(0,3*t/4),r.lineTo(t/32,3*t/4),r.fill(),n}},{key:"facing",get:function(){return this.t+Math.PI/2}}])&&_(t.prototype,n),r&&_(t,r),o}(r);function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.homes=[],this.difficulty=t}var t,n,r;return t=e,(n=[{key:"populate",value:function(e){var t=this;this.lilies=[],this.cars=[];for(var n=function(n){var r=e[n].type,i=2*Math.PI*n;"pond"===r?t.populateRow(Math.floor(i),.7-.1*t.difficulty,(function(r){return t.lilies.push(new v(n,r,e[n].speed))})):"road"===r&&t.populateRow(Math.floor(i)/2,.225+.075*t.difficulty,(function(r){return t.cars.push(new S(n,r,e[n].speed))}))},r=0;r<e.length;++r)n(r)}},{key:"populateRow",value:function(e,t,n){var r=2*Math.PI/e,i=r*Math.random(),o=function(e){for(var t=[],n=0;n<e;++n)t.push(n);return t}(e);!function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}(o);for(var a=0;a<Math.max(1,Math.round(t*e));++a)n(i+o[a]*r)}},{key:"update",value:function(e){var t,n=x(this.lilies);try{for(n.s();!(t=n.n()).done;)t.value.update(e)}catch(e){n.e(e)}finally{n.f()}var r,i=x(this.cars);try{for(i.s();!(r=i.n()).done;)r.value.update(e)}catch(e){i.e(e)}finally{i.f()}}},{key:"completed",value:function(){for(var e=0;e<4;++e)if(!this.homes[e])return!1;return!0}}])&&T(t.prototype,n),r&&T(t,r),e}(),R=document.getElementById("game-over"),I=document.getElementById("level-win"),E=new SoundEffect({oldParams:!0,wave_type:0,p_env_attack:0,p_env_sustain:.23790408740057073,p_env_punch:0,p_env_decay:.23742654976387143,p_base_freq:.35279296596298354,p_freq_limit:0,p_freq_ramp:.22212611651772876,p_freq_dramp:0,p_vib_strength:0,p_vib_speed:0,p_arp_mod:0,p_arp_speed:0,p_duty:.08977132908551474,p_duty_ramp:0,p_repeat_speed:0,p_pha_offset:0,p_pha_ramp:0,p_lpf_freq:.9585511505376012,p_lpf_ramp:0,p_lpf_resonance:0,p_hpf_freq:0,p_hpf_ramp:0,sound_vol:.05,sample_rate:44100,sample_size:8}).generate(),M=new SoundEffect({oldParams:!0,wave_type:0,p_env_attack:.0445166877130032,p_env_sustain:.182,p_env_punch:.10037611077683314,p_env_decay:.17291769967457804,p_base_freq:.284,p_freq_limit:0,p_freq_ramp:.2581458048953463,p_freq_dramp:-.03479503611813755,p_vib_strength:-.016859700378325626,p_vib_speed:.04043729272790919,p_arp_mod:0,p_arp_speed:.027968309460605065,p_duty:.07187342654588062,p_duty_ramp:-.015354511394665753,p_repeat_speed:.008715131175503689,p_pha_offset:0,p_pha_ramp:-.01477404807986183,p_lpf_freq:.9245540490762989,p_lpf_ramp:0,p_lpf_resonance:-.029204293848175113,p_hpf_freq:-.04836648556820207,p_hpf_ramp:.04539141664879946,sound_vol:.03,sample_rate:44100,sample_size:8,p_vib_delay:null}).generate(),C=new SoundEffect({oldParams:!0,wave_type:1,p_env_attack:-.10507501589322304,p_env_sustain:-.02090104386290121,p_env_punch:-.08522625289508615,p_env_decay:.14847480374082322,p_base_freq:.278,p_freq_limit:0,p_freq_ramp:-.3261401811737207,p_freq_dramp:-.08149403635273286,p_vib_strength:.15372530122023925,p_vib_speed:.044762670361304165,p_arp_mod:.07983469053673184,p_arp_speed:-.06772189083356792,p_duty:1.0134741774733813,p_duty_ramp:.06581424438315048,p_repeat_speed:-.030078433476900687,p_pha_offset:-.010561412711320849,p_pha_ramp:.1393454513678244,p_lpf_freq:.9128060506438345,p_lpf_ramp:.09389936807290761,p_lpf_resonance:.022954887628406438,p_hpf_freq:.13848287656881175,p_hpf_ramp:.16837606616867193,sound_vol:.05,sample_rate:44100,sample_size:8,p_vib_delay:null}).generate(),q=new SoundEffect({oldParams:!0,wave_type:3,p_env_attack:0,p_env_sustain:.16275918690389046,p_env_punch:.4181439868076769,p_env_decay:.3937628266069797,p_base_freq:.0887978690655948,p_freq_limit:0,p_freq_ramp:-.24625452022168354,p_freq_dramp:0,p_vib_strength:.6460666133410728,p_vib_speed:.36787990392998804,p_arp_mod:0,p_arp_speed:0,p_duty:0,p_duty_ramp:0,p_repeat_speed:.3053632788342427,p_pha_offset:0,p_pha_ramp:0,p_lpf_freq:1,p_lpf_ramp:0,p_lpf_resonance:0,p_hpf_freq:0,p_hpf_ramp:0,sound_vol:.05,sample_rate:44100,sample_size:8}).generate(),D=new SoundEffect({oldParams:!0,wave_type:3,p_env_attack:.18361080687186188,p_env_sustain:.475,p_env_punch:.2688713365691784,p_env_decay:-.49955351786356567,p_base_freq:.197443722148863,p_freq_limit:0,p_freq_ramp:-.34091185436175064,p_freq_dramp:-.6583108339121865,p_vib_strength:.6644403993561854,p_vib_speed:.46313306281994804,p_arp_mod:1.049701479528293,p_arp_speed:.07119298584128436,p_duty:-.898637327654658,p_duty_ramp:-.33434290461943594,p_repeat_speed:.811851938742117,p_pha_offset:.12097497386897631,p_pha_ramp:-.2249877420659818,p_lpf_freq:.9580803989127105,p_lpf_ramp:.18450093351885394,p_lpf_resonance:.6089097845082919,p_hpf_freq:.17663025125638,p_hpf_ramp:-.1637768091693596,sound_vol:.05,sample_rate:44100,sample_size:8,p_vib_delay:.0239014190378245}).generate(),A=new SoundEffect({oldParams:!0,wave_type:2,p_env_attack:-.07709042364688073,p_env_sustain:.5559012545028557,p_env_punch:-.03785915223003236,p_env_decay:.47872655478891984,p_base_freq:.5254855689550934,p_freq_limit:0,p_freq_ramp:.172,p_freq_dramp:-.0761164330737989,p_vib_strength:.2553857611577285,p_vib_speed:.4511785948800326,p_arp_mod:-.12506992008795906,p_arp_speed:.02174306929946864,p_duty:.9880129073303545,p_duty_ramp:-.021844479976788914,p_repeat_speed:0,p_pha_offset:.00021312082402093896,p_pha_ramp:-.01148161826013061,p_lpf_freq:1,p_lpf_ramp:.01333066355030281,p_lpf_resonance:.025755361275815195,p_hpf_freq:.007392503783877638,p_hpf_ramp:.01888195533070447,sound_vol:.05,sample_rate:44100,sample_size:8,p_vib_delay:null}).generate();function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var i=K(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==L(t)&&"function"!=typeof t?H(e):t}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(o,e);var t,n,r,i=U(o);function o(){var e;F(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return V(H(e=i.call.apply(i,[this].concat(n))),"active",!0),V(H(e),"maxR",0),V(H(e),"lastSound",null),e}return t=o,r=[{key:"render",value:function(e,t){var n=document.createElement("canvas");n.width=e,n.height=e;var r=n.getContext("2d");return r.strokeStyle=t,r.lineWidth=3,r.lineCap="round",r.beginPath(),r.moveTo(.1*e,.2*e),r.lineTo(.4*e,.2*e),r.lineTo(.7*e,.8*e),r.lineTo(.9*e,.8*e),r.moveTo(.1*e,.8*e),r.lineTo(.4*e,.8*e),r.lineTo(.7*e,.2*e),r.lineTo(.9*e,.2*e),r.stroke(),r.fillStyle=t,r.beginPath(),r.ellipse(e/2,e/2,4*e/12,3*e/12,0,0,2*Math.PI),r.fill(),r.beginPath(),r.ellipse(3*e/4,3*e/8,3*e/32,3*e/32,0,0,2*Math.PI),r.ellipse(3*e/4,5*e/8,3*e/32,3*e/32,0,0,2*Math.PI),r.fill(),r.fillStyle="#000000",r.beginPath(),r.ellipse(3*e/4,3*e/8,e/16,e/16,0,-Math.PI/2,Math.PI/2),r.ellipse(3*e/4,5*e/8,e/16,e/16,0,-Math.PI/2,Math.PI/2),r.fill(),n}}],(n=[{key:"end",value:function(){this.active=!1}},{key:"moveClockwise",value:function(){this.active&&(this.t+=this.jumpAngle(),this.lastSound=M)}},{key:"moveAntiClockwise",value:function(){this.active&&(this.t-=this.jumpAngle(),this.lastSound=M)}},{key:"moveOut",value:function(){this.active&&(this.r+=1,this.lastSound=E)}},{key:"moveIn",value:function(){this.active&&(this.r=Math.max(this.r-1,0),this.lastSound=E)}},{key:"jumpAngle",value:function(){return Math.PI/3/Math.max(1,this.r)}},{key:"renderFrame",value:function(e,t){return o.render(t,s)}},{key:"facing",get:function(){return this.t}}])&&z(t.prototype,n),r&&z(t,r),o}(r);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t,n){return(J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ee(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ee(e);if(t){var i=ee(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Y(this,n)}}function Y(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?Z(e):t}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(o,e);var t,n,r,i=X(o);function o(e,t,n){var r,a,l,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r=i.call(this,e,t,0),a=Z(r),s=!0,(l="active")in a?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,r.startTime=n,r}return t=o,(n=[{key:"update",value:function(e){J(ee(o.prototype),"update",this).call(this,e),this._frame=Math.floor((e-this.startTime)/80),this._frame>12&&(this.active=!1)}},{key:"renderFrame",value:function(e,t){var n=document.createElement("canvas");n.width=t,n.height=t;for(var r=n.getContext("2d"),i=0;i<3;++i){var o=e-2*i+1;o>0&&o<9&&(r.strokeStyle="rgba(255,255,255,".concat(1-o/8,")"),r.beginPath(),r.ellipse(t/2,t/2,o*t/16,o*t/16,0,0,2*Math.PI),r.stroke())}return n}},{key:"facing",get:function(){return this.t}},{key:"frameIndex",get:function(){return Math.min(this._frame,12)}}])&&N(t.prototype,n),r&&N(t,r),o}(r);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return(ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ce(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ce(e);if(t){var i=ce(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(o,e);var t,n,r,i=ae(o);function o(e,t,n){var r,a,l,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r=i.call(this,e,t,0),a=se(r),s=!0,(l="active")in a?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,r.startTime=n,r}return t=o,(n=[{key:"update",value:function(e){ie(ce(o.prototype),"update",this).call(this,e),e-this.startTime>960&&(this.active=!1)}},{key:"renderFrame",value:function(e,t){return $.render(t,"#333300")}},{key:"facing",get:function(){return this.t}}])&&re(t.prototype,n),r&&re(t,r),o}(r);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return(he="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_e(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_e(e);if(t){var i=_e(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _e(e){return(_e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(o,e);var t,n,r,i=de(o);function o(e,t){var n,r,a,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=i.call(this,20,o.angle(e),0),r=me(n),l=!0,(a="active")in r?Object.defineProperty(r,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):r[a]=l,n.startTime=t,n}return t=o,r=[{key:"angle",value:function(e){return Math.PI*(1/4+e/2)}}],(n=[{key:"update",value:function(e){he(_e(o.prototype),"update",this).call(this,e),this._frame=Math.floor((e-this.startTime)/80),this._frame>12&&(this.active=!1)}},{key:"renderFrame",value:function(e,t){var n=document.createElement("canvas");n.width=24*t,n.height=15*t;var r=n.getContext("2d");r.fillStyle="#782800",r.fillRect(6*t,25*t/4,3*t/2,5*t/2),r.fillStyle="#a23600",r.beginPath(),r.moveTo(6*t,25*t/4),r.lineTo(27*t/4,26*t/4),r.lineTo(27*t/4,34*t/4),r.lineTo(6*t,35*t/4),r.fill(),r.fillStyle="#963200",r.beginPath(),r.moveTo(15*t/2,25*t/4),r.lineTo(27*t/4,26*t/4),r.lineTo(27*t/4,34*t/4),r.lineTo(15*t/2,35*t/4),r.fill(),r.fillStyle="#cccccc";for(var i=0;i<3;++i)r.beginPath(),r.ellipse(4.15*t+i*t*3/4,15*t/2,5*t/16,3*t/8,0,0,2*Math.PI),r.fill();var o=function(){r.beginPath(),r.moveTo(6.3*t,3*-t),r.arc(-8*t,15*t/2,11.75*t,-.55,.55),r.lineTo(6.3*t,18*t)};return r.strokeStyle="#ffffff",o(),r.stroke(),r.setLineDash([t/8,t/8]),r.lineWidth=3,o(),r.stroke(),n}},{key:"facing",get:function(){return this.t}},{key:"frameIndex",get:function(){return Math.min(this._frame,12)}}])&&pe(t.prototype,n),r&&pe(t,r),o}(r);function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var we=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.duration=n,this.data=t,this.progress=0}var t,n,r;return t=e,(n=[{key:"update",value:function(e){this.startTime?this.progress=Math.min(1,(e-this.startTime)/this.duration):this.startTime=e}}])&&ge(t.prototype,n),r&&ge(t,r),e}();function ke(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xe(this,"debug",!1),xe(this,"grid",[{tiles:1,type:"land",speed:.1*Math.PI},{tiles:6,type:"pond",speed:.15*Math.PI},{tiles:12,type:"pond",speed:.2*Math.PI},{tiles:24,type:"pond",speed:-.3*Math.PI},{tiles:24,type:"pond",speed:-.4*Math.PI},{tiles:24,type:"pond",speed:-.3*Math.PI},{tiles:48,type:"land"},{tiles:48,type:"road",speed:.15*Math.PI},{tiles:48,type:"road",speed:.2*Math.PI},{tiles:48,type:"road",speed:.25*Math.PI},{tiles:48,type:"road",speed:.2*Math.PI},{tiles:48,type:"road",speed:.15*Math.PI},{tiles:1,type:"home"}]),xe(this,"lives",3),xe(this,"pendingResult",null),xe(this,"result",null),-1===e.nextLevel?(this.level=new j(1),this.score=0):(this.level=new j(e.nextLevel),this.score=e.score),this.maxR=0,this.startAttempt()}var n,r,i;return n=t,(r=[{key:"startAttempt",value:function(){this.level.populate(this.grid),this.frog=new $(0,0,0)}},{key:"checkScore",value:function(){return this.frog.active&&this.frog.r>this.maxR?(this.maxR=this.frog.r,10):0}},{key:"update",value:function(t){var n=this.frog.lastSound;if(this.frog.lastSound=null,this.frog.active){if("home"===this.grid[this.frog.r].type){for(var r=null,i=0;i<4;++i)if(e(be.angle(i),this.frog.t)<3*Math.PI/16){r=i;break}if(null===r||this.level.homes[r])this.frog.r-=1,n=C;else{var o=new be(r,t);this.fate=o,this.level.homes[r]=o,this.score+=400,this.maxR=0,this.frog.end(),n=A}}switch(this.grid[this.frog.r].type){case"land":this.frog.speed=0;break;case"pond":var a,l=!1,s=ke(this.level.lilies);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(this.frogCollidesWith(c)){this.frog.t=c.t,this.frog.speed=c.speed,l=!0;break}}}catch(e){s.e(e)}finally{s.f()}l||this.debug||(this.lives-=1,this.fate=new te(this.frog.r,this.frog.t,t),this.frog.end(),n=D),this.score+=this.checkScore();break;case"road":this.frog.speed=0;var u,f=ke(this.level.cars);try{for(f.s();!(u=f.n()).done;){var p=u.value;if(this.frogCollidesWith(p)&&!this.debug){this.lives-=1,this.fate=new ue(this.frog.r,this.frog.t,t),this.frog.end(),n=q;break}}}catch(e){f.e(e)}finally{f.f()}this.score+=this.checkScore()}}else this.frog.speed=0;this.fate&&(this.fate.update(t),this.fate.active||(0===this.lives?(this.pendingResult=new we({nextLevel:-1,score:this.score},1500),R.play()):this.level.completed()?(this.pendingResult=new we({nextLevel:this.level.difficulty+1,score:this.score},1500),I.play()):this.startAttempt(),this.fate=null)),this.pendingResult&&(this.pendingResult.update(t),1===this.pendingResult.progress&&(this.result=this.pendingResult.data,this.pendingResult=null)),this.level.update(t),this.frog.update(t),n&&n.getAudio().play()}},{key:"toggleDebug",value:function(){this.debug=!this.debug}},{key:"frogCollidesWith",value:function(t){return this.frog.r===t.r&&e(t.t,this.frog.t)<.45/t.r}}])&&Se(n.prototype,r),i&&Se(n,i),t}();function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var je=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t}var t,n,r;return t=e,r=[{key:"create",value:function(t){var n=t.getContext("2d");return n.translate(t.width/2,t.height/2),n.rotate(-Math.PI/2),new e(n)}}],(n=[{key:"setLineDash",value:function(e){this.context.setLineDash(e)}},{key:"save",value:function(){this.context.save()}},{key:"restore",value:function(){this.context.restore()}},{key:"beginPath",value:function(){this.context.beginPath()}},{key:"lineTo",value:function(e,t){var n=this.convert(e,t),r=n.x,i=n.y;this.context.lineTo(r,i)}},{key:"moveTo",value:function(e,t){var n=this.convert(e,t),r=n.x,i=n.y;this.context.moveTo(r,i)}},{key:"stroke",value:function(){this.context.stroke()}},{key:"circle",value:function(e){this.context.beginPath(),this.context.arc(0,0,e,0,2*Math.PI),this.context.stroke()}},{key:"fillCircle",value:function(e){this.context.beginPath(),this.context.arc(0,0,e,0,2*Math.PI),this.context.fill()}},{key:"drawSprite",value:function(e,t,n,r,i){var o=this.convert(t,n),a=o.x,l=o.y;this.context.save(),this.context.translate(a,l),this.context.scale(i,i),this.context.rotate(r),this.context.drawImage(e,-e.width/2,-e.height/2),this.context.restore()}},{key:"convert",value:function(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}},{key:"fillStyle",set:function(e){this.context.fillStyle=e}},{key:"strokeStyle",set:function(e){this.context.strokeStyle=e}},{key:"lineWidth",set:function(e){this.context.lineWidth=e}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Re(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ie(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function Ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Me=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.width=t.width,this.height=t.height,this.unit=Math.floor(Math.min(t.width,t.height)/24),this.context=je.create(t),this.mask=this.renderMask(),this.lives=n,this.score=r}var t,n,r;return t=e,(n=[{key:"render",value:function(e){this.context.fillStyle=i,this.context.fillCircle(24*this.unit),this.context.fillStyle=a,this.context.context.fillRect(-this.width/2,5*-this.unit/2,this.width,5*this.unit),this.context.context.fillRect(5*-this.unit/2,-this.width/2,5*this.unit,this.width);for(var t=null,n=e.grid.length-1;n>=0;--n){var r=e.grid[n].type;if("home"!==r){if(this.context.fillStyle={road:a,land:i,pond:o}[r],this.context.fillCircle(this.unit*(n+.5)),"road"===r&&"road"===t){var l=Math.PI*(1+2*n),s=l/Math.round(l/(2*this.unit))/2;this.context.save(),this.context.setLineDash([s,s]),this.context.strokeStyle="#cccccc",this.context.lineWidth=2,this.context.circle(this.unit*(n+.5)),this.context.setLineDash([]),this.context.restore()}t=r}}this.lives.innerText=" 🐸".repeat(e.lives),this.score.innerText=e.score.toString(10);var c,u=Re(e.level.homes);try{for(u.s();!(c=u.n()).done;){var f=c.value;f&&this.renderSprite(f)}}catch(e){u.e(e)}finally{u.f()}e.fate&&this.renderSprite(e.fate);var p,h=Re(e.level.lilies);try{for(h.s();!(p=h.n()).done;){var y=p.value;this.renderSprite(y)}}catch(e){h.e(e)}finally{h.f()}var d,v=Re(e.level.cars);try{for(v.s();!(d=v.n()).done;){var m=d.value;this.renderSprite(m)}}catch(e){v.e(e)}finally{v.f()}if(e.frog.active&&this.renderSprite(e.frog),e.debug){this.context.strokeStyle="#ffcc33";for(var _=1;_<e.grid.length;++_){var b=e.grid[_],g=this.unit*(1+2*(_-1))/2,w=g+this.unit;this.context.circle(g);for(var k=2*Math.PI/b.tiles,P=0;P<b.tiles;++P)this.context.beginPath(),this.context.moveTo(g,(.5+P)*k),this.context.lineTo(w,(.5+P)*k),this.context.stroke()}}else{var S=1;if(e.pendingResult){var x=e.pendingResult.data.nextLevel/Math.abs(e.pendingResult.data.nextLevel);S=Math.pow(1==x?7.5:20,x*e.pendingResult.progress)}if(this.renderImageForSprite(this.mask,e.frog,S),S<1)for(var O=1.5*S;O<1.5;O*=1.5)this.renderImageForSprite(this.mask,e.frog,O)}}},{key:"renderSprite",value:function(e){this.renderImageForSprite(e.getCurrentFrame(this.unit),e,1)}},{key:"renderImageForSprite",value:function(e,t,n){this.context.drawSprite(e,t.r*this.unit,t.t,t.facing,n)}},{key:"renderMask",value:function(){var e=document.createElement("canvas");e.width=64*this.unit,e.height=64*this.unit;var t=e.getContext("2d");return t.fillStyle="#ffffff",t.fillRect(0,0,e.width,e.height),t.globalCompositeOperation="xor",t.filter="blur(".concat(this.unit,"px)"),t.beginPath(),t.ellipse(3*this.unit+e.width/2,e.height/2,9*this.unit,6*this.unit,0,0,2*Math.PI),t.fill(),e}}])&&Ee(t.prototype,n),r&&Ee(t,r),e}();function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qe=function(){return Math.round(12*document.getElementById("root").offsetHeight/13)},De=function(){var e,t,n;function r(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.initView=function(){e.canvas.width=qe(),e.canvas.height=qe(),e.view=new Me(e.canvas,e.lives,e.score)},this.keyHandler=function(t){if(!t.repeat)switch(t.code){case"KeyW":case"ArrowUp":e.model.frog.moveOut();break;case"KeyA":case"ArrowLeft":e.model.frog.moveAntiClockwise();break;case"KeyS":case"ArrowDown":e.model.frog.moveIn();break;case"KeyD":case"ArrowRight":e.model.frog.moveClockwise();break;case"Delete":t.ctrlKey&&e.model.toggleDebug()}}}return e=r,(t=[{key:"enter",value:function(e,t){this.onExit=e;var n=document.getElementById("root");this.canvas=document.createElement("canvas"),this.canvas.id="game",this.stats=document.createElement("dl"),this.stats.id="stats";var r=document.createElement("dt");r.innerText="Lives:",this.lives=document.createElement("dd"),this.lives.classList.add("lives");var i=document.createElement("dt");i.innerText="Score:",this.score=document.createElement("dd"),this.stats.appendChild(r),this.stats.appendChild(this.lives),this.stats.appendChild(i),this.stats.appendChild(this.score),this.model=new Oe(t),this.initView(),window.addEventListener("resize",this.initView),window.addEventListener("keydown",this.keyHandler),n.appendChild(this.stats),n.appendChild(this.canvas),this.startTime=Date.now()}},{key:"update",value:function(){var e=Date.now()-this.startTime;this.model.update(e),this.model.result?this.exit(this.model.result):this.view.render(this.model)}},{key:"exit",value:function(e){var t=document.getElementById("root");t.removeChild(this.canvas),t.removeChild(this.stats),window.removeEventListener("keydown",this.keyHandler),window.removeEventListener("resize",this.initView),this.onExit(e)}}])&&Ce(e.prototype,t),n&&Ce(e,n),r}();function Ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Le,Fe,ze,We,Ue,Be;ze=new(function(){var e,t,n;function r(){var e,t,n,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=[],(t="messages")in(e=this)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,this.handler=function(){i.exit()}}return e=r,(t=[{key:"enter",value:function(e,t){this.messages=[];var n=document.getElementById("title");n.style.display="block";var r=n.firstElementChild;if(this.messageHolder=document.createElement("p"),n.appendChild(this.messageHolder),-1===t.nextLevel){r.innerText="Game Over";var i=parseInt(localStorage.getItem("highScore")||"0",10);t.score>i&&localStorage.setItem("highScore",t.score.toString(10)),this.messages.push("Score: ".concat(t.score))}else 1===t.nextLevel?(r.innerText="Loop Frog",this.messages.push("Controls: arrow keys or W/A/S/D")):(r.innerText="Level ".concat(t.nextLevel),this.messages.push("Score: ".concat(t.score)));if(t.nextLevel<2){var o=localStorage.getItem("highScore");null!==o&&this.messages.push("High score: ".concat(o))}this.currentData=t,this.onExit=e,this.startTime=Date.now(),this.listening=!1}},{key:"update",value:function(){if(!this.listening&&Date.now()>this.startTime+750){var e=document.getElementById("title"),t=document.createElement("p"),n="continue";1===this.currentData.nextLevel?n="start":-1===this.currentData.nextLevel&&(n="play again"),t.innerText="Press any key to ".concat(n),e.appendChild(t),window.addEventListener("keydown",this.handler),this.listening=!0}this.messageHolder.innerText=this.messages[Math.floor((Date.now()-this.startTime)/2250)%this.messages.length]}},{key:"exit",value:function(){for(var e=document.getElementById("title");"p"===e.lastElementChild.tagName.toLowerCase();)e.removeChild(e.lastElementChild);e.style.display="none",window.removeEventListener("keydown",this.handler),this.onExit(this.currentData)}}])&&Ae(e.prototype,t),n&&Ae(e,n),r}()),We=new De,Ue=function(e){Le=ze,ze.enter(Be,e)},Be=function(e){Le=We,We.enter(Ue,e)},Ue({nextLevel:1,score:0}),Fe=function(){Le.update(),window.requestAnimationFrame(Fe)},window.requestAnimationFrame(Fe)}();
//# sourceMappingURL=ld47.eb1c53c5.js.map
